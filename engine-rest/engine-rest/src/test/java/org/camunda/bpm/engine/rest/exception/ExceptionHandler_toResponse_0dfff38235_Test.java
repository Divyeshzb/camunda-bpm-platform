// Test generated by RoostGPT for test camuda-engine-test using AI Type Open AI and AI Model gpt-4

package org.camunda.bpm.engine.rest.exception;

import javax.ws.rs.core.Response;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;
import static org.mockito.Mockito.*;
import static org.junit.jupiter.api.Assertions.*;

public class ExceptionHandler_toResponse_0dfff38235_Test {

    private ExceptionHandler exceptionHandler;

    @Mock
    private ExceptionHandlerHelper exceptionHandlerHelper;

    @BeforeEach
    public void setup() {
        MockitoAnnotations.initMocks(this);
        exceptionHandler = new ExceptionHandler();
        exceptionHandler.setExceptionHandlerHelper(exceptionHandlerHelper);
    }

    @Test
    public void testToResponseWithValidThrowable() {
        Throwable throwable = new Throwable("valid exception");
        Response mockResponse = Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();
        when(exceptionHandlerHelper.getResponse(throwable)).thenReturn(mockResponse);

        Response response = exceptionHandler.toResponse(throwable);

        assertEquals(mockResponse, response);
        verify(exceptionHandlerHelper).getResponse(throwable);
    }

    @Test
    public void testToResponseWithNullThrowable() {
        Throwable throwable = null;
        Response mockResponse = Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();
        when(exceptionHandlerHelper.getResponse(throwable)).thenReturn(mockResponse);

        Response response = exceptionHandler.toResponse(throwable);

        assertEquals(mockResponse, response);
        verify(exceptionHandlerHelper).getResponse(throwable);
    }
}
